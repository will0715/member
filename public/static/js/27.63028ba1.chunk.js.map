{"version":3,"sources":["hooks/useMember.js","views/member/MemberChopDetail/Header.js","views/member/MemberChopDetail/index.js","hooks/useIsMountedRef.js","utils/analytics.js","components/Page.js","services/memberService.js"],"names":["useMember","useState","members","setMembers","isMountedRef","useIsMountedRef","getMembers","useCallback","a","memberService","list","data","deleteMember","id","delete","useEffect","useStyles","makeStyles","theme","root","action","marginBottom","spacing","marginLeft","actionIcon","marginRight","Header","className","rest","classes","Grid","clsx","container","justify","item","Breadcrumbs","separator","fontSize","aria-label","Link","variant","color","to","component","RouterLink","Typography","Box","mt","backgroundColor","palette","background","dark","minHeight","paddingTop","paddingBottom","MemberChopDetail","phone","useParams","React","chops","setChops","getMember","chopsDetail","Page","title","Container","maxWidth","TableContainer","Paper","Table","table","TableHead","TableRow","TableCell","TableBody","map","row","key","scope","branch","name","code","colSpan","_","sumBy","isMounted","useRef","current","track","window","gtag","pageview","props","process","REACT_APP_GA_MEASUREMENT_ID","event","type","forwardRef","ref","children","location","useLocation","sendPageViewEvent","page_path","pathname","Helmet","axios","get","create","post","member","update","patch","orderRecords","detail"],"mappings":"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","file":"static/js/27.63028ba1.chunk.js","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport useIsMountedRef from './useIsMountedRef';\nimport memberService from '../services/memberService';\n\nexport default function useMember() {\n  const [members, setMembers] = useState([]);\n  const isMountedRef = useIsMountedRef();\n\n  const getMembers = useCallback(async () => {\n    const data = await memberService.list();\n    setMembers(data.data.data);\n  }, [isMountedRef]);\n\n  const deleteMember = useCallback(\n    async (id) => {\n      await memberService.delete(id);\n      getMembers();\n    },\n    [getMembers]\n  );\n\n  useEffect(() => {\n    getMembers();\n  }, [getMembers]);\n\n  return { members, deleteMember };\n}\n","import React from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport {\n  Box,\n  Breadcrumbs,\n  Button,\n  Grid,\n  Link,\n  SvgIcon,\n  Typography,\n  makeStyles\n} from '@material-ui/core';\nimport NavigateNextIcon from '@material-ui/icons/NavigateNext';\nimport {\n  PlusCircle as PlusCircleIcon,\n  Download as DownloadIcon,\n  Upload as UploadIcon\n} from 'react-feather';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  action: {\n    marginBottom: theme.spacing(1),\n    '& + &': {\n      marginLeft: theme.spacing(1)\n    }\n  },\n  actionIcon: {\n    marginRight: theme.spacing(1)\n  }\n}));\n\nfunction Header({ className, ...rest }) {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      className={clsx(classes.root, className)}\n      container\n      justify=\"space-between\"\n      spacing={3}\n      {...rest}\n    >\n      <Grid item>\n        <Breadcrumbs\n          separator={<NavigateNextIcon fontSize=\"small\" />}\n          aria-label=\"breadcrumb\"\n        >\n          <Link variant=\"body1\" color=\"inherit\" to=\"/\" component={RouterLink}>\n            Dashboard\n          </Link>\n          <Link\n            variant=\"body1\"\n            color=\"inherit\"\n            to=\"/members\"\n            component={RouterLink}\n          >\n            Member List\n          </Link>\n          <Typography variant=\"body1\" color=\"textPrimary\">\n            Member Chops Detail\n          </Typography>\n        </Breadcrumbs>\n        <Typography variant=\"h3\" color=\"textPrimary\">\n          Member Chops Detail\n        </Typography>\n        <Box mt={2}>\n          {/* <Button className={classes.action}>\n            <SvgIcon fontSize=\"small\" className={classes.actionIcon}>\n              <UploadIcon />\n            </SvgIcon>\n            Import\n          </Button>\n          <Button className={classes.action}>\n            <SvgIcon fontSize=\"small\" className={classes.actionIcon}>\n              <DownloadIcon />\n            </SvgIcon>\n            Export\n          </Button> */}\n        </Box>\n      </Grid>\n    </Grid>\n  );\n}\n\nHeader.propTypes = {\n  className: PropTypes.string\n};\n\nexport default Header;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link as RouterLink } from 'react-router-dom';\nimport MaterialTable from 'material-table';\nimport Page from '../../../components/Page';\nimport useIsMountedRef from '../../../hooks/useIsMountedRef';\nimport useMember from '../../../hooks/useMember';\nimport { Container, Box, IconButton, SvgIcon, makeStyles } from '@material-ui/core';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Edit as EditIcon, Trash } from 'react-feather';\nimport Header from './Header';\n// import Results from './Results';\nimport { useParams } from 'react-router-dom';\nimport _ from 'lodash';\nimport memberService from '../../../services/memberService';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    minHeight: '100%',\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3)\n  }\n}));\n\nexport default function MemberChopDetail() {\n  const { phone } = useParams();\n  const classes = useStyles();\n  const isMountedRef = useIsMountedRef();\n  const [chops, setChops] = React.useState();\n\n  const getMember = useCallback(async () => {\n    const data = await memberService.chopsDetail(phone);\n    setChops(data.data.data);\n  }, [isMountedRef]);\n\n  useEffect(() => {\n    getMember();\n  }, [getMember]);\n\n  if (!chops) {\n    return null;\n  }\n\n  return (\n    <Page className={classes.root} title=\"Member List\">\n      <Container maxWidth={false}>\n        <Header />\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Branch</TableCell>\n                <TableCell>Branch Id</TableCell>\n                <TableCell>Chops</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {chops.map((row) => (\n                <TableRow key={row.id}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {row.branch.name}\n                  </TableCell>\n                  <TableCell>{row.branch.code}</TableCell>\n                  <TableCell>{row.chops}</TableCell>\n                </TableRow>\n              ))}\n              <TableRow key={'TOTAL_CHOPS'}>\n                <TableCell colSpan={2}>Total</TableCell>\n                <TableCell>{_.sumBy(chops, 'chops')}</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Container>\n    </Page>\n  );\n}\n","import { useRef, useEffect } from 'react';\n\nexport default function useIsMountedRef() {\n  const isMounted = useRef(true);\n\n  useEffect(() => () => {\n    isMounted.current = false;\n  }, []);\n\n  return isMounted;\n}\n","function track(...args) {\n  if (process.env.NODE_ENV !== 'production') {\n    return;\n  }\n\n  if (!window.gtag) {\n    return;\n  }\n\n  window.gtag(...args);\n}\n\nfunction pageview(props) {\n  track('config', process.env.REACT_APP_GA_MEASUREMENT_ID, props);\n}\n\nfunction event(type, props) {\n  track('event', type, props);\n}\n\nexport default {\n  pageview,\n  event\n};\n","import React, { forwardRef, useEffect, useCallback } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router';\nimport PropTypes from 'prop-types';\nimport track from '../utils/analytics';\n\nconst Page = forwardRef(({ title, children, ...rest }, ref) => {\n  const location = useLocation();\n\n  const sendPageViewEvent = useCallback(() => {\n    track.pageview({\n      page_path: location.pathname\n    });\n  }, [location]);\n\n  useEffect(() => {\n    sendPageViewEvent();\n  }, [sendPageViewEvent]);\n\n  return (\n    <div ref={ref} {...rest}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </div>\n  );\n});\n\nPage.propTypes = {\n  children: PropTypes.node,\n  title: PropTypes.string\n};\n\nexport default Page;\n","import axios from '../utils/axios';\n\nclass MemberService {\n  list = async () => {\n    const members = await axios.get('/api/v1/members');\n    return members;\n  };\n\n  create = async (data) => {\n    const member = await axios.post('/api/v1/members', data);\n    return member;\n  };\n\n  get = async (id) => {\n    const member = await axios.get(`/api/v1/members/${id}`);\n    return member;\n  };\n\n  update = async (id, data) => {\n    const member = await axios.patch(`/api/v1/members/${id}`, data);\n    return member;\n  };\n\n  delete = async (id) => {\n    const member = await axios.delete(`/api/v1/members/${id}`);\n    return member;\n  };\n\n  chopsDetail = async (phone) => {\n    const chops = await axios.get(`/api/v1/members/${phone}/chopsDetail`);\n    return chops;\n  };\n\n  orderRecords = async (phone) => {\n    const chops = await axios.get(`/api/v1/members/${phone}/orderRecords`);\n    return chops;\n  };\n\n  detail = async (id) => {\n    const member = await axios.get(`/api/v1/members/${id}/detail`);\n    return member;\n  };\n}\n\nconst memberService = new MemberService();\n\nexport default memberService;\n"],"sourceRoot":""}