(this["webpackJsonpmember-backend"]=this["webpackJsonpmember-backend"]||[]).push([[23],{1002:function(e,t,a){"use strict";var r=a(22),n=a.n(r),c=a(41),i=a(182),u=a(14),s=new function e(){Object(i.a)(this,e),this.list=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/v1/members");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.create=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/api/v1/members",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/v1/members/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.patch("/api/v1/members/".concat(t),a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/api/v1/members/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.detail=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/v1/members/".concat(t,"/detail"));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=s},1058:function(e,t,a){"use strict";a.d(t,"a",(function(){return v})),a.d(t,"b",(function(){return h}));var r=a(10),n=a(0),c=(a(4),a(903)),i=a(2),u=(a(1),a(3),a(487)),s=a(986),o=a(1007),l=(a(1010),a(43),a(1004)),m=(a(42),a(35),a(105),a(106),a(117),Object(u.a)({toolbar:{flexDirection:"column",alignItems:"flex-start"},toolbarLandscape:{padding:16},dateLandscape:{marginRight:16}},{name:"MuiPickersDatePickerRoot"})),p=function(e){var t=e.date,a=e.views,r=e.setOpenView,u=e.isLandscape,l=e.openView,p=Object(c.c)(),d=m(),b=Object(n.useMemo)((function(){return Object(o.d)(a)}),[a]),f=Object(n.useMemo)((function(){return Object(o.b)(a)}),[a]);return Object(n.createElement)(s.b,{isLandscape:u,className:Object(i.a)(!b&&d.toolbar,u&&d.toolbarLandscape)},Object(n.createElement)(s.c,{variant:b?"h3":"subtitle1",onClick:function(){return r("year")},selected:"year"===l,label:p.getYearText(t)}),!b&&!f&&Object(n.createElement)(s.c,{variant:"h4",selected:"date"===l,onClick:function(){return r("date")},align:u?"left":"center",label:p.getDatePickerHeaderText(t),className:Object(i.a)(u&&d.dateLandscape)}),f&&Object(n.createElement)(s.c,{variant:"h4",onClick:function(){return r("month")},selected:"month"===l,label:p.getMonthText(t)}))};function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var b=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l.c,{openTo:"date",views:["year","date"]});function f(e){var t=Object(c.c)();return{getDefaultFormat:function(){return Object(o.c)(e.views,t)}}}var v=Object(s.g)({useOptions:f,Input:s.d,useState:s.i,DefaultToolbarComponent:p}),h=Object(s.g)({useOptions:f,Input:s.a,useState:s.e,DefaultToolbarComponent:p});v.defaultProps=b,h.defaultProps=b},1349:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(487),i=a(944),u=a(301),s=a(976),o=(a(975),a(22)),l=a.n(o),m=a(84),p=a(41),d=a(126),b=a(2),f=a(990),v=a(991),h=a(49),O=a(983),E=a(940),j=a(941),g=a(951),k=a(924),w=a(910),x=a(1058),y=a(1022),_=a(968),C=a(492),P=a(911),S=a(306),T=a(895),B=a(972),M=a(1002),D=a(1048),N=a.n(D),R=Object(c.a)((function(){return{root:{}}}));var W=function(e){var t=e.className,a=e.ranks,r=Object(d.a)(e,["className","ranks"]),c=R(),i=Object(O.a)().successSnackbar,s=Object(B.a)().t,o=Object(h.g)();return n.a.createElement(v.a,{initialValues:{email:"",first_name:"",last_name:"",phone:"",birthday:"",rank_id:a[0].id,gender:"unknown"},validationSchema:f.d().shape({email:f.e().email(s("Must be a valid email")).max(255),first_name:f.e().max(255).required(s("is required",{name:s("Name")})),last_name:f.e().max(255).required(s("is required",{name:s("Name")})),phone:f.e().max(15),password:f.e().min(6,s("Must be at least 6 characters")).max(255)}),onSubmit:function(){var e=Object(p.a)(l.a.mark((function e(t,a){var r,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.resetForm,r=a.setErrors,n=a.setStatus,c=a.setSubmitting,e.prev=1,e.next=4,M.a.create(Object(m.a)({},t));case 4:n({success:!0}),c(!1),i(s("Created",{name:s("Member")})),o.push("/members"),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),n({success:!1}),r({submit:e.t0.response.data.message}),c(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var i=e.errors,o=e.handleBlur,l=e.handleChange,m=e.handleSubmit,p=e.isSubmitting,d=e.touched,f=e.values,v=e.setFieldValue;return n.a.createElement("form",Object.assign({className:Object(b.a)(c.root,t),onSubmit:m},r),n.a.createElement(E.a,null,n.a.createElement(j.a,null,i.submit&&n.a.createElement(u.a,{mb:3},n.a.createElement(y.a,{severity:"error"},i.submit)),n.a.createElement(g.a,{container:!0,spacing:3},n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.first_name&&i.first_name),fullWidth:!0,helperText:d.first_name&&i.first_name,label:s("First Name"),name:"first_name",onBlur:o,onChange:l,required:!0,value:f.first_name,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.last_name&&i.last_name),fullWidth:!0,helperText:d.last_name&&i.last_name,label:s("Last Name"),name:"last_name",onBlur:o,onChange:l,required:!0,value:f.last_name,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.phone&&i.phone),fullWidth:!0,helperText:d.phone&&i.phone,label:s("Phone"),name:"phone",onBlur:o,onChange:l,required:!0,value:f.phone,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.email&&i.email),fullWidth:!0,helperText:d.email&&i.email,label:s("Email address"),name:"email",onBlur:o,onChange:l,value:f.email,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.password&&i.password),fullWidth:!0,helperText:d.password&&i.password,label:s("Password"),name:"password",type:"password",onBlur:o,onChange:l,value:f.password,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(x.a,{error:Boolean(d.birthday&&i.birthday),fullWidth:!0,helperText:d.birthday&&i.birthday,label:s("Birthday"),name:"birthday",format:"YYYY-MM-DD",onBlur:o,onChange:function(e){return v("birthday",N()(e).format("YYYY-MM-DD"))},value:f.birthday,inputVariant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{fullWidth:!0,label:s("Ranks"),name:"rank_id",onChange:l,select:!0,SelectProps:{native:!0},value:f.rank_id,variant:"outlined"},a.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)})))),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.address&&i.address),fullWidth:!0,helperText:d.address&&i.address,label:s("Address"),name:"address",onBlur:o,onChange:l,value:f.address,variant:"outlined"})),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(k.a,{error:Boolean(d.remark&&i.remark),fullWidth:!0,helperText:d.remark&&i.remark,label:s("Remark"),name:"remark",onBlur:o,onChange:l,value:f.remark,variant:"outlined"})),n.a.createElement(g.a,{item:!0}),n.a.createElement(g.a,{item:!0,md:6,xs:12},n.a.createElement(S.a,{component:"fieldset"},n.a.createElement(T.a,{component:"legend"},s("Gender")),n.a.createElement(C.a,{name:"gender",value:f.gender,onBlur:o,onChange:l},n.a.createElement(P.a,{value:"female",control:n.a.createElement(_.a,null),label:s("Female")}),n.a.createElement(P.a,{value:"male",control:n.a.createElement(_.a,null),label:s("Male")}),n.a.createElement(P.a,{value:"other",control:n.a.createElement(_.a,null),label:s("Other")}),n.a.createElement(P.a,{value:"unknown",control:n.a.createElement(_.a,null),label:s("Unknown")}))))),n.a.createElement(u.a,{mt:2},n.a.createElement(w.a,{variant:"contained",color:"secondary",type:"submit",disabled:p},s("Submit"))))))}))},A=a(64),L=a(969),Y=a(937),q=a(74),I=a(982),H=a.n(I),V=Object(c.a)((function(){return{root:{}}}));var F=function(e){var t=e.className,a=Object(d.a)(e,["className"]),r=V(),c=Object(B.a)().t;return n.a.createElement("div",Object.assign({className:Object(b.a)(r.root,t)},a),n.a.createElement(L.a,{separator:n.a.createElement(H.a,{fontSize:"small"}),"aria-label":"breadcrumb"},n.a.createElement(Y.a,{variant:"body1",color:"inherit",to:"/",component:A.a},c("Dashboard")),n.a.createElement(Y.a,{variant:"body1",color:"inherit",to:"/members",component:A.a},c("Member List")),n.a.createElement(q.a,{variant:"body1",color:"textPrimary"},c("Create Member"))),n.a.createElement(q.a,{variant:"h3",color:"textPrimary"},c("Create Member")))},U=a(998),K=(a(984),Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})));t.default=function(){var e=K(),t=Object(U.a)().ranks;return t.length?n.a.createElement(s.a,{className:e.root,title:"Member Edit"},n.a.createElement(i.a,{maxWidth:"lg"},n.a.createElement(F,null),n.a.createElement(u.a,{mt:3},n.a.createElement(W,{ranks:t})))):null}},975:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(0);function n(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},976:function(e,t,a){"use strict";var r=a(126),n=a(0),c=a.n(n),i=a(320),u=a(49);function s(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var o={pageview:function(e){s("config",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MEMBER_API_HOST:"192.168.1.116",REACT_APP_MEMBER_API_PORT:"8000"}).REACT_APP_GA_MEASUREMENT_ID,e)},event:function(e,t){s("event",e,t)}},l=Object(n.forwardRef)((function(e,t){var a=e.title,s=e.children,l=Object(r.a)(e,["title","children"]),m=Object(u.h)(),p=Object(n.useCallback)((function(){o.pageview({page_path:m.pathname})}),[m]);return Object(n.useEffect)((function(){p()}),[p]),c.a.createElement("div",Object.assign({ref:t},l),c.a.createElement(i.Helmet,null,c.a.createElement("title",null,a)),s)}));t.a=l},983:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(0);var r=a(185);function n(){var e=Object(r.useSnackbar)().enqueueSnackbar;return{successSnackbar:function(t){e(t,{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}})}}}},984:function(e,t,a){"use strict";var r=a(22),n=a.n(r),c=a(41),i=a(182),u=a(14),s=new function e(){Object(i.a)(this,e),this.list=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/v1/ranks");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.create=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("/api/v1/ranks",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/api/v1/ranks/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.patch("/api/v1/ranks/".concat(t),a);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("/api/v1/ranks/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=s},998:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(22),n=a.n(r),c=a(41),i=a(57),u=a(0),s=a(975),o=a(984);function l(){var e=Object(u.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(s.a)(),m=Object(u.useCallback)(Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.list();case 2:t=e.sent,r(t.data.data);case 4:case"end":return e.stop()}}),e)}))),[l]),p=Object(u.useCallback)(function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.delete(t);case 2:m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(u.useEffect)((function(){m()}),[m]),{ranks:a,deleteRank:p}}}}]);
//# sourceMappingURL=23.4beb5dbe.chunk.js.map