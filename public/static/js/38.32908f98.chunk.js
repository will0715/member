(this["webpackJsonpmember-backend"]=this["webpackJsonpmember-backend"]||[]).push([[38],{1003:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(1e3),i=a(972),o=a(1032);t.a=function(e){var t=Object.assign({},e),a=Object(i.a)().i18n.language,s=Object(n.useMemo)((function(){switch(a){case"zh-TW":return o.zhTW;case"zh-CN":return o.zhCN;default:return o.enUS}}),[a]);return r.a.createElement(c.DateRange,Object.assign({editableDateInputs:!0,dateDisplayFormat:"yyyy-MM-dd",locale:s},t))}},1370:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return B}));var n=a(22),r=a.n(n),c=a(41),i=a(57),o=a(0),s=a.n(o),u=a(988),p=a.n(u),d=a(976),l=a(994),m=a(487),f=a(944),b=a(301),h=(a(975),a(972)),v=(a(1e3),a(126)),g=a(64),O=a(2),E=a(951),j=a(969),y=a(937),D=a(74),w=a(910),P=a(232),R=a(982),_=a.n(R),S=a(1341),x=a(945),k=a(946),M=a(184),T=a.n(M),C=a(1003),Y=Object(m.a)((function(e){return{root:{},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}},actionIcon:{marginRight:e.spacing(1)}}}));var A=function(e){var t=e.className,a=e.searchRange,n=e.handleSelect,r=e.reloadData,c=Object(v.a)(e,["className","searchRange","handleSelect","reloadData"]),o=Y(),u=Object(h.a)().t,p=a.start,d=a.end,l=s.a.useState(!1),m=Object(i.a)(l,2),f=m[0],b=m[1],R=function(){b(!1),r()};return s.a.createElement(E.a,Object.assign({className:Object(O.a)(o.root,t),container:!0,justify:"space-between",spacing:3},c),s.a.createElement(E.a,{item:!0},s.a.createElement(j.a,{separator:s.a.createElement(_.a,{fontSize:"small"}),"aria-label":"breadcrumb"},s.a.createElement(y.a,{variant:"body1",color:"inherit",to:"/",component:g.a},u("Dashboard")),s.a.createElement(D.a,{variant:"body1",color:"textPrimary"},u("Prepaidcard Payment Report"))),s.a.createElement(D.a,{variant:"h3",color:"textPrimary"},u("Prepaidcard Payment Report"))),s.a.createElement(E.a,{item:!0},s.a.createElement(w.a,{color:"secondary",variant:"contained",className:o.action,onClick:function(){b(!0)}},s.a.createElement(P.a,{fontSize:"small",className:o.actionIcon},s.a.createElement(S.a,null)),p.format("YYYY-MM-DD")," ~ ",d.format("YYYY-MM-DD"))),s.a.createElement(x.a,{open:f,onClose:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(C.a,{ranges:[{startDate:p.toDate(),endDate:d.toDate(),key:"selection"}],minDate:T()().add("-1","years").toDate(),maxDate:T()().toDate(),onChange:n}),s.a.createElement(k.a,null,s.a.createElement(w.a,{onClick:R,color:"primary",autoFocus:!0},"OK"))))},N=(a(1033),a(1034),Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}})));function B(){var e=N(),t=Object(h.a)().t,a=Object(o.useState)(!0),n=Object(i.a)(a,2),u=n[0],m=n[1],v=Object(o.useState)(),g=Object(i.a)(v,2),O=g[0],E=g[1],j=Object(o.useState)(T()().add(-1,"months")),y=Object(i.a)(j,2),D=y[0],w=y[1],P=Object(o.useState)(T()()),R=Object(i.a)(P,2),_=R[0],S=R[1];Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.prepaidcardPayment({start:D.format("YYYY-MM-DD"),end:_.format("YYYY-MM-DD")});case 2:t=e.sent,E(t.data.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}u&&(!function(){e.apply(this,arguments)}(),m(!1))}),[u]);var x=[{title:t("Member"),field:"member",render:function(e){return"".concat(e.member.first_name," ").concat(e.member.last_name)}},{title:t("Branch"),field:"branch",render:function(e){return"".concat(e.branch.name,"(").concat(e.branch.code,")")}},{title:t("Time"),field:"created_at"},{title:t("Payment"),field:"payment"}];return s.a.createElement(d.a,{className:e.root,title:t("Prepaidcard Payment Report")},s.a.createElement(f.a,{maxWidth:!1},s.a.createElement(A,{searchRange:{start:D,end:_},handleSelect:function(e){var t=e.selection,a=t.startDate,n=t.endDate;w(T()(a)),S(T()(n))},reloadData:function(){m(!0)}}),O&&s.a.createElement(b.a,{mt:3},s.a.createElement(p.a,{title:t("Prepaidcard Payment Report"),options:{pageSize:15,pageSizeOptions:[15,30,50]},columns:x,data:O}))))}},975:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},976:function(e,t,a){"use strict";var n=a(126),r=a(0),c=a.n(r),i=a(320),o=a(49);function s(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var u={pageview:function(e){s("config",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MEMBER_API_HOST:"192.168.1.116",REACT_APP_MEMBER_API_PORT:"8000"}).REACT_APP_GA_MEASUREMENT_ID,e)},event:function(e,t){s("event",e,t)}},p=Object(r.forwardRef)((function(e,t){var a=e.title,s=e.children,p=Object(n.a)(e,["title","children"]),d=Object(o.h)(),l=Object(r.useCallback)((function(){u.pageview({page_path:d.pathname})}),[d]);return Object(r.useEffect)((function(){l()}),[l]),c.a.createElement("div",Object.assign({ref:t},p),c.a.createElement(i.Helmet,null,c.a.createElement("title",null,a)),s)}));t.a=p},994:function(e,t,a){"use strict";var n=a(22),r=a.n(n),c=a(41),i=a(182),o=a(14),s=new function e(){Object(i.a)(this,e),this.dashboard=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/dashboard");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.prepaidcardTopup=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/prepaidcards/topup?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.prepaidcardPayment=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/prepaidcards/payment?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.chopsAdd=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/chops/add?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.chopsConsume=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/chops/consume?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.transactions=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/transactions?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.memberRegisterBranchDetail=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/memberRegisterBranch/detail?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.memberRegisterBranchStatistics=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/v1/report/memberRegisterBranch/statistics?start=".concat(t.start,"&end=").concat(t.end));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=s}}]);
//# sourceMappingURL=38.32908f98.chunk.js.map