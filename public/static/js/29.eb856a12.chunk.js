(this["webpackJsonpmember-backend"]=this["webpackJsonpmember-backend"]||[]).push([[29],{1079:function(e,t,a){"use strict";var r=a(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),c=(0,r(a(326)).default)(n.default.createElement("path",{d:"M13 3H6v18h4v-6h3c3.31 0 6-2.69 6-6s-2.69-6-6-6zm.2 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2z"}),"LocalParking");t.default=c},1206:function(e,t,a){"use strict";a.r(t);var r=a(23),n=a.n(r),c=a(42),o=a(58),l=a(8),i=a(0),s=a.n(i),m=a(487),u=a(944),d=a(951),p=a(972),b=a(973),f=a(127),g=a(65),v=a(2),E=a(968),y=a(937),h=a(75),O=a(976),x=a.n(O),j=a(971),w=[{value:"today",text:"Today"},{value:"yesterday",text:"Yesterday"},{value:"last_30_days",text:"Last 30 days"},{value:"last_year",text:"Last year"}],_=Object(m.a)((function(e){return{root:{},actionIcon:{marginRight:e.spacing(1)}}}));var C=function(e){var t=e.className,a=Object(f.a)(e,["className"]),r=_(),n=(Object(i.useRef)(null),Object(i.useState)(!1)),c=Object(o.a)(n,2),l=(c[0],c[1],Object(i.useState)(w[2].text)),m=Object(o.a)(l,2),u=(m[0],m[1],Object(j.a)().t);return s.a.createElement(d.a,Object.assign({container:!0,spacing:3,justify:"space-between",className:Object(v.a)(r.root,t)},a),s.a.createElement(d.a,{item:!0},s.a.createElement(E.a,{separator:s.a.createElement(x.a,{fontSize:"small"}),"aria-label":"breadcrumb"},s.a.createElement(y.a,{variant:"body1",color:"inherit",to:"/app",component:g.a},u("Dashboard")),s.a.createElement(h.a,{variant:"body1",color:"textPrimary"},u("Reports"))),s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},u("Dashboard"))))},k=a(940),P=a(301),N=a(970),T=a(4),S=a.n(T);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var L=function(e){var t=e.color,a=e.size,r=I(e,["color","size"]);return s.a.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),s.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),s.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))};L.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},L.defaultProps={color:"currentColor",size:"24"};var z=L,B=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var R=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=B(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Total Consume Chops")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(z,null)))},M=a(1079),W=a.n(M),D=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var H=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=D(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Total Chops")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(W.a,null)))};function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var K=function(e){var t=e.color,a=e.size,r=G(e,["color","size"]);return s.a.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),s.a.createElement("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),s.a.createElement("circle",{cx:"8.5",cy:"7",r:"4"}),s.a.createElement("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),s.a.createElement("line",{x1:"23",y1:"11",x2:"17",y2:"11"}))};K.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},K.defaultProps={color:"currentColor",size:"24"};var U=K,J=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var V=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=J(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Total Earn Chops")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(U,null)))},Y=a(960),q=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var Q=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=q(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Branch Count")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(Y.a,null)))},X=a(958),Z=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var $=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=Z(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Member Count")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(X.a,null)))};function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ae=function(e){var t=e.color,a=e.size,r=te(e,["color","size"]);return s.a.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r),s.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),s.a.createElement("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}))};ae.propTypes={color:S.a.string,size:S.a.oneOfType([S.a.string,S.a.number])},ae.defaultProps={color:"currentColor",size:"24"};var re=ae,ne=Object(m.a)((function(e){return{root:{padding:e.spacing(3),display:"flex",alignItems:"center",justifyContent:"space-between"},label:{marginLeft:e.spacing(1)},avatar:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,height:48,width:48}}}));var ce=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=ne(),c=Object(j.a)().t;return s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(P.a,{flexGrow:1},s.a.createElement(h.a,{component:"h3",gutterBottom:!0,variant:"overline",color:"textSecondary"},c("Total Amount")),s.a.createElement(P.a,{display:"flex",alignItems:"center",flexWrap:"wrap"},s.a.createElement(h.a,{variant:"h3",color:"textPrimary"},a))),s.a.createElement(N.a,{className:n.avatar},s.a.createElement(re,null)))},oe=a(942),le=a(950),ie=a(303),se=a(19),me=["#CCC","#36A2EB","#FFCE56","#66FF66","#00DDAA"],ue=["#CCC","#36A2EB","#FFCE56","#66FF66","#00DDAA"];var de=function(e){var t=e.data,a=Object(f.a)(e,["data"]),r=Object(se.a)(),n={labels:t.map((function(e){return e.name})),datasets:[{data:t.map((function(e){return e.members_count})),backgroundColor:me,hoverBackgroundColor:ue}],borderWidth:8,borderColor:r.palette.background.default,hoverBorderColor:r.palette.background.default},c={responsive:!0,maintainAspectRatio:!1,animation:!1,cutoutPercentage:80,legend:{display:!1},layout:{padding:0},tooltips:{enabled:!0,mode:"index",intersect:!1,caretSize:10,yPadding:20,xPadding:20,borderWidth:1,borderColor:r.palette.divider,backgroundColor:r.palette.background.dark,titleFontColor:r.palette.text.primary,bodyFontColor:r.palette.text.secondary,footerFontColor:r.palette.text.secondary,callbacks:{label:function(e,t){var a=t.labels[e.index],r=t.datasets[0].data[e.index];return"".concat(a,": ").concat(r,"%")}}}};return s.a.createElement(ie.b,Object.assign({data:n,options:c},a))},pe=Object(m.a)((function(e){return{root:{},item:{textAlign:"center",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",padding:e.spacing(3,2),"&:not(:last-of-type)":{borderRight:"1px solid ".concat(e.palette.divider)}}}}));var be=function(e){var t=e.className,a=e.data,r=Object(f.a)(e,["className","data"]),n=pe(),c=Object(j.a)().t;return a?s.a.createElement(k.a,Object.assign({className:Object(v.a)(n.root,t)},r),s.a.createElement(oe.a,{title:c("Rank Members")}),s.a.createElement(le.a,null),s.a.createElement(P.a,{p:3,position:"relative",minHeight:320},s.a.createElement(de,{data:a})),s.a.createElement(le.a,null),s.a.createElement(P.a,{display:"flex"},a.map((function(e){return s.a.createElement("div",{key:e.id,className:n.item},s.a.createElement(h.a,{variant:"h4",color:"textPrimary"},e.members_count),s.a.createElement(h.a,{variant:"overline",color:"textSecondary"},e.name))})))):null},fe=a(183),ge=a(15),ve=new function e(){Object(fe.a)(this,e),this.dashboard=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge.a.get("/api/v1/report/dashboard");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))},Ee=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)},container:Object(l.a)({},e.breakpoints.up("lg"),{paddingLeft:64,paddingRight:64})}})),ye={member_count:0,branch_count:0,manual_add_chops:0,earn_chops:0,consume_chops:0,total_chops:0,rank_members:[]};t.default=function(){var e=Ee(),t=Object(p.a)(),a=Object(i.useState)(ye),r=Object(o.a)(a,2),l=r[0],m=r[1],f=Object(i.useCallback)(Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.dashboard();case 2:t=e.sent,m(t.data.data);case 4:case"end":return e.stop()}}),e)}))),[t]);return Object(i.useEffect)((function(){f()}),[f]),s.a.createElement(b.a,{className:e.root,title:"Dashboard"},s.a.createElement(u.a,{maxWidth:!1,className:e.container},s.a.createElement(C,null),s.a.createElement(d.a,{container:!0,spacing:3},s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement($,{data:l.member_count})),s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement(Q,{data:l.branch_count})),s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement(V,{data:l.manual_add_chops+l.earn_chops})),s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement(R,{data:l.consume_chops})),s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement(H,{data:l.manual_add_chops+l.earn_chops-l.total_chops})),s.a.createElement(d.a,{item:!0,lg:4,sm:6,xs:12},s.a.createElement(ce,{data:l.total_amount})),s.a.createElement(d.a,{item:!0,lg:12,xl:12,xs:12},s.a.createElement(be,{data:l.rank_members})))))}},972:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(0);function n(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},973:function(e,t,a){"use strict";var r=a(127),n=a(0),c=a.n(n),o=a(319),l=a(50);function i(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var s={pageview:function(e){i("config",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_MEMBER_API_HOST:"mbrtest.zoomye.com.tw",REACT_APP_MEMBER_API_PORT:"80"}).REACT_APP_GA_MEASUREMENT_ID,e)},event:function(e,t){i("event",e,t)}},m=Object(n.forwardRef)((function(e,t){var a=e.title,i=e.children,m=Object(r.a)(e,["title","children"]),u=Object(l.h)(),d=Object(n.useCallback)((function(){s.pageview({page_path:u.pathname})}),[u]);return Object(n.useEffect)((function(){d()}),[d]),c.a.createElement("div",Object.assign({ref:t},m),c.a.createElement(o.Helmet,null,c.a.createElement("title",null,a)),i)}));t.a=m},976:function(e,t,a){"use strict";var r=a(242);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),c=(0,r(a(326)).default)(n.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");t.default=c}}]);
//# sourceMappingURL=29.eb856a12.chunk.js.map