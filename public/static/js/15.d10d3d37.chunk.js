(this["webpackJsonp@devias-io/material-kit-pro-react"]=this["webpackJsonp@devias-io/material-kit-pro-react"]||[]).push([[15],{1006:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=["ALL","LINE_PAY","CASH"]},1007:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=["AMOUNT","ITEM_COUNT"]},1219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(487),u=a(944),i=a(302),o=a(973),s=a(986),l=(a(972),a(23)),m=a.n(l),p=a(85),d=a(42),f=a(128),v=a(2),h=a(979),_=a(980),b=a(186),x=a(940),E=a(941),O=a(951),g=a(924),C=a(75),j=a(954),k=a(910),y=a(1056),w=a(992),T=a(1006),Y=a(1007),S=a(1035),A=a.n(S),M=a(971),D=a(997),N=Object(c.a)((function(){return{root:{}}}));var R=function(e){var t=e.className,a=e.ranks,n=Object(f.a)(e,["className","ranks"]),c=N(),u=Object(b.useSnackbar)().enqueueSnackbar,o=Object(M.a)().t;return r.a.createElement(_.a,{initialValues:{name:"",description:"",payment_type:"ALL",type:"AMOUNT",chops_per_unit:1,unit_per_amount:1,consume_max_percentage:100,earn_chops_after_consume:!1,rank_id:a[0].id,activated_at:A()().format("YYYY-MM-DD HH:mm:ss"),expired_at:A()().format("YYYY-MM-DD HH:mm:ss")},validationSchema:h.d().shape({name:h.e().max(255).required(o("is required",{name:o("Name")})),description:h.e().max(255),payment_type:h.e().oneOf(["ALL","LINE_PAY","CASH"]),type:h.e().oneOf(["AMOUNT","ITEM_COUNT"]),chops_per_unit:h.c().min(1),unit_per_amount:h.c().min(0),consume_max_percentage:h.c().max(100).min(1),earn_chops_after_consume:h.a()}),onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(t,a){var n,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.resetForm,n=a.setErrors,r=a.setStatus,c=a.setSubmitting,e.prev=1,e.next=4,D.a.create(Object(p.a)({},t));case 4:r({success:!0}),c(!1),u(o("Created",{name:o("Consume Chop Rule")}),{variant:"success"}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),r({success:!1}),n({submit:e.t0.message}),c(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var u=e.errors,s=e.handleBlur,l=e.handleChange,m=e.handleSubmit,p=e.isSubmitting,d=e.touched,f=e.values,h=e.setFieldValue;return r.a.createElement("form",Object.assign({className:Object(v.a)(c.root,t),onSubmit:m},n),r.a.createElement(x.a,null,r.a.createElement(E.a,null,u.submit&&r.a.createElement(i.a,{mb:3},r.a.createElement(w.a,{severity:"error"},u.submit)),r.a.createElement(O.a,{container:!0,spacing:3},r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{error:Boolean(d.name&&u.name),fullWidth:!0,helperText:d.name&&u.name,label:o("Name"),name:"name",onBlur:s,onChange:l,required:!0,value:f.name,variant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{error:Boolean(d.description&&u.description),fullWidth:!0,helperText:d.description&&u.description,label:o("Description"),name:"description",onBlur:s,onChange:l,required:!0,value:f.description,variant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{fullWidth:!0,label:o("Rank"),name:"rank_id",onChange:l,select:!0,required:!0,SelectProps:{native:!0},value:f.rank_id,variant:"outlined"},a.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})))),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{fullWidth:!0,label:o("Payment Type"),name:"payment_type",onChange:l,select:!0,SelectProps:{native:!0},value:f.payment_type,variant:"outlined"},T.a.map((function(e){return r.a.createElement("option",{key:e,value:e},o("PaymentType.".concat(e)))})))),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{fullWidth:!0,label:o("Type"),name:"type",onChange:l,select:!0,SelectProps:{native:!0},value:f.type,variant:"outlined"},Y.a.map((function(e){return r.a.createElement("option",{key:e,value:e},o("Type.".concat(e)))})))),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{error:Boolean(d.chops_per_unit&&u.chops_per_unit),fullWidth:!0,helperText:d.chops_per_unit&&u.chops_per_unit,label:o("Chops Per Unit"),name:"chops_per_unit",type:"number",onBlur:s,onChange:l,required:!0,value:f.chops_per_unit,variant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{error:Boolean(d.unit_per_amount&&u.unit_per_amount),fullWidth:!0,helperText:d.unit_per_amount&&u.unit_per_amount,label:o("Unit Per Amount"),name:"unit_per_amount",type:"number",onBlur:s,onChange:l,required:!0,value:f.unit_per_amount,variant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(g.a,{error:Boolean(d.consume_max_percentage&&u.consume_max_percentage),fullWidth:!0,helperText:d.consume_max_percentage&&u.consume_max_percentage,label:o("Consume Max Percentage"),name:"consume_max_percentage",type:"number",onBlur:s,onChange:l,required:!0,value:f.consume_max_percentage,variant:"outlined"})),r.a.createElement(O.a,{item:!0,md:12,xs:12}),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(y.a,{error:Boolean(d.activated_at&&u.activated_at),fullWidth:!0,helperText:d.activated_at&&u.activated_at,value:f.activated_at,label:o("Activated At"),name:"activated_at",onBlur:s,format:"YYYY-MM-DD HH:mm:ss",required:!0,onChange:function(e){return h("activated_at",A()(e).format("YYYY-MM-DD HH:mm:ss"))},inputVariant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(y.a,{error:Boolean(d.expired_at&&u.expired_at),fullWidth:!0,helperText:d.expired_at&&u.expired_at,value:f.expired_at,label:o("Expired At"),name:"expired_at",onBlur:s,format:"YYYY-MM-DD HH:mm:ss",required:!0,onChange:function(e){return h("expired_at",A()(e).format("YYYY-MM-DD HH:mm:ss"))},inputVariant:"outlined"})),r.a.createElement(O.a,{item:!0,md:6,xs:12},r.a.createElement(C.a,{variant:"h5",color:"textPrimary"},o("Earn Chops After Consume")),r.a.createElement(j.a,{checked:f.earn_chops_after_consume,color:"secondary",edge:"start",name:"earn_chops_after_consume",onChange:l,value:f.earn_chops_after_consume}))),r.a.createElement(i.a,{mt:2},r.a.createElement(k.a,{variant:"contained",color:"secondary",type:"submit",disabled:p},o("Submit"))))))}))},H=a(65),P=a(968),B=a(937),W=a(976),q=a.n(W),L=Object(c.a)((function(){return{root:{}}}));var U=function(e){var t=e.className,a=Object(f.a)(e,["className"]),n=L(),c=Object(M.a)().t;return r.a.createElement("div",Object.assign({className:Object(v.a)(n.root,t)},a),r.a.createElement(P.a,{separator:r.a.createElement(q.a,{fontSize:"small"}),"aria-label":"breadcrumb"},r.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/",component:H.a},c("Dashboard")),r.a.createElement(B.a,{variant:"body1",color:"inherit",to:"/consumeChopRules",component:H.a},c("Consume Chop Rule List")),r.a.createElement(C.a,{variant:"body1",color:"textPrimary"},c("Create Consume Chop Rules"))),r.a.createElement(C.a,{variant:"h3",color:"textPrimary"},c("Create Consume Chop Rules")))},I=Object(c.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:e.spacing(3)}}}));t.default=function(){var e=I(),t=Object(s.a)().ranks,a=Object(M.a)().t;return t.length?r.a.createElement(o.a,{className:e.root,title:a("Create Consume Chop Rules")},r.a.createElement(u.a,{maxWidth:"lg"},r.a.createElement(U,null),r.a.createElement(i.a,{mt:3},r.a.createElement(R,{ranks:t})))):null}},972:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},973:function(e,t,a){"use strict";var n=a(128),r=a(0),c=a.n(r),u=a(319),i=a(51);function o(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var s={pageview:function(e){o("config",Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GA_MEASUREMENT_ID,e)},event:function(e,t){o("event",e,t)}},l=Object(r.forwardRef)((function(e,t){var a=e.title,o=e.children,l=Object(n.a)(e,["title","children"]),m=Object(i.h)(),p=Object(r.useCallback)((function(){s.pageview({page_path:m.pathname})}),[m]);return Object(r.useEffect)((function(){p()}),[p]),c.a.createElement("div",Object.assign({ref:t},l),c.a.createElement(u.Helmet,null,c.a.createElement("title",null,a)),o)}));t.a=l},977:function(e,t,a){"use strict";var n=a(23),r=a.n(n),c=a(42),u=a(184),i=a(15),o=new function e(){Object(u.a)(this,e),this.list=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/v1/ranks");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.create=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/v1/ranks",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/v1/ranks/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/v1/ranks/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/v1/ranks/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=o},986:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(23),r=a.n(n),c=a(42),u=a(48),i=a(0),o=a(972),s=a(977);function l(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(o.a)(),m=Object(i.useCallback)(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.list();case 2:t=e.sent,n(t.data.data);case 4:case"end":return e.stop()}}),e)}))),[l]),p=Object(i.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.delete(t);case 2:m();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m]);return Object(i.useEffect)((function(){m()}),[m]),{ranks:a,deleteRank:p}}},997:function(e,t,a){"use strict";var n=a(23),r=a.n(n),c=a(42),u=a(184),i=a(15),o=new function e(){Object(u.a)(this,e),this.list=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/v1/consumeChopRules");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),this.create=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/v1/consumeChopRules",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.get=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/v1/consumeChopRules/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.update=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/v1/consumeChopRules/".concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.delete=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/v1/consumeChopRules/".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=o}}]);
//# sourceMappingURL=15.d10d3d37.chunk.js.map